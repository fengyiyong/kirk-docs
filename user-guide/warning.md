# 2.10 告警中心
告警中心用于监控指标的阈值告警，当前适应于「服务」、「存储」、「HTTP七层负载均衡」三个组件，告警通知方式支持slack。
***

## 2.10.1 属性说明
### <span id="jump1">2.10.1.1 告警规则</span>
用于定义告警项，包含触发告警的监控指标、告警通知对象、告警通知方式等。

**1. 规则名称：**定义告警项的名称

**2. 告警产品：**告警对象的大类，当前支持「服务」、「存储」、「HTTP七层负载均衡」

**3. 告警对象：**触发告警的真正实例

?> **全部实例：**选择「告警产品」下全部实例为告警监测对象，且后面新增的实例也会被自动添加进该条告警规则    
   **选择实例：**勾选「告警产品」下部分实例为告警监测对象

**4. 条件：**结构为<告警指标><统计时间><统计方法><比较方法><阈值>

?>**告警指标：**「告警产品」运行时的监控指标，用于反馈运行负荷或健康状态<br>
  **统计时间：**统计某个时间周期内的指标数据集合，当前支持1分钟、5分钟、10分钟<br>
  **统计方法：**对统计的指标数据集合做数据处理，当前支持计算集合的平均值、集合中最大值，集合中最小值<br>
  **比较方法：**集合做数据处理后的结果与设定的阈值做数据比较，当前支持大于、大于等于、小于、小于等于、等于、不等于<br>
  **阈值：**用户期望的统计结果临界值

**5. 触发几次就告警：**当「告警条件」连续满足多少次，就触发一次告警

**6. 告警对象：**选择该告警项触发时需要通知的「告警组」

**7. 通知方式：**选择该告警项触发时需要的通知方式，当前支持Slack

### 2.10.1.2 <span id="jump2">告警人</span>
用于管理所有可能接收告警通知的人员通讯录。

![](_figures/user-guide/warning-person-create.png)

**1. 姓名：**定义告警通知人的姓名

**2. 手机：**接收告警通知的手机号

**3. 邮箱：**接收告警通知的邮箱

### 2.10.1.3 <span id="jump3">告警组</span>
用于管理一组「高警人」。在「告警规则」中，会以「高警组」作为一个告警项触发后的通知接收单元。一个「告警组」可能是一个项目组。

![](_figures/user-guide/warning-team-create-1.png)

**1. 组名称：**定义告警通知组的名称

**2. 选择告警人：**从「告警人」的列表中选择一个或几个组成一个「告警组」

**3. 添加告警人：**用于临时添加新的「高警人」

**4. Channel：**Slack Channel

**5. API URL：**到slack官网设置[imcoming webhooks](https://qiniu.slack.com/apps/new/A0F7XDUAZ-incoming-webhooks)，完成后，会有一个Webhook URL
***

## 2.10.2 如何添加告警规则
操作如下：

**1）点击控制台左边栏的「告警中心」，切换至告警中心界面**

**2）点击「告警规则」，切换至告警规则列表Tab**

**3）点击「新建」，开始创建一条新的告警规则。**

!> 添加告警项前要保证已经存在「告警组」。<br>   
   如需通知对象接收slack，请确保「告警组」配置了slack。
***

## 2.10.3 如何修改告警规则
操作如下：

**1）点击控制台左边栏的「告警中心」，切换至告警中心界面**

**2）点击「告警规则」，切换至告警规则列表Tab**

**3）点击目标告警规则最右侧的「编辑」**
***

## 2.10.4 如何删除告警规则
删除告警规则支持两种方式：<br>
第一种是批量删除<br>
第二种是单条删除<br>

### 2.10.4.1 批量删除
操作如下：

**1）点击目标告警规则最左侧的「选中」icon**

**2）点击「删除」**

![](_figures/user-guide/warning_rule_delete1.jpg)

### 2.10.4.2 单条删除
操作如下：

**1）点击目标告警规则最右侧的「删除」**
***

## 2.10.5 如何添加告警人
操作如下：

**1）点击控制台左边栏的「告警中心」，切换至告警中心界面**

**2）点击「告警人」，切换至告警人列表Tab**

**3）点击「新建」，开始添加一个新的告警人。**
***

## 2.10.6 如何修改告警人
操作如下：

**1）点击控制台左边栏的「告警中心」，切换至告警中心界面**

**2）点击「告警人」，切换至告警人列表Tab**

**3）点击目标告警人最右侧的「编辑」**
***

## 2.10.7 如何删除告警人
删除告警人支持两种方式：<br>
第一种是批量删除<br>
第二种是单条删除<br>

### 2.10.7.1 批量删除
操作如下：

**1）点击目标告警人最左侧的「选中」icon**

**2）点击「删除」**

![](_figures/user-guide/warning_member_delete.jpg)

### 2.10.7.2 单条删除
操作如下：

**1）点击目标告警人最右侧的「删除」**
***

## 2.10.8 如何添加高警组
操作如下：

**1）点击控制台左边栏的「告警中心」，切换至告警中心界面**

**2）点击「告警组」，切换至告警组列表Tab**

**3）点击「新建」，开始添加一个新的告警组。**
***

## 2.10.9 如何修改高警组
操作如下：

**1）点击控制台左边栏的「告警中心」，切换至告警中心界面**

**2）点击「告警组」，切换至告警组列表Tab**

**3）点击目标告警组最右侧的「编辑」**
***

## 2.10.10 如何删除告警组
删除告警组支持两种方式：<br>
第一种是批量删除<br>
第二种是单条删除<br>

### 批量删除

**1）点击目标告警组最左侧的「选中」icon**

**2）点击「删除」**

![](_figures/user-guide/warning_team_delete.jpg)

### 单条删除

**1）点击目标告警组最右侧的「删除」**
***

## 2.10.11 如何设置告警通知
### 3.10.11.1 设置slack
slack的告警设置是在「告警组」中完成，填写 Slack Channel 和 Slack API URL 信息。

**如何配置Slack API URL：**<br>
需要到slack官网设置[imcoming webhooks](https://qiniu.slack.com/apps/new/A0F7XDUAZ-incoming-webhooks)，完成后，会有一个Webhook URL
