# 2.5 HTTP七层负载均衡
负载均衡可以扩展服务的访问能力到外网，「HTTP」七层负载均衡提供了服务的域名访问方式。用户可以绑定域名到负载均衡，达到通过用户域名访问内网服务的目的。
***

## 2.5.1 属性说明

![](_figures/user-guide/lb_7_para.jpg)

**1. 名称：**负载均衡一旦创建完成，「名称」将不能被修改

!> **命名规则：**2-64位的小写字母、数字或"-"，不能以"-"开头或结尾

**2. 描述：**用于做信息备注，可以随时修改

**3. 计费方式：**按流量使用情况计费

**4. 域名：**用于将用户域名绑定到负载均衡。需要确保「域名管理」中有可用域名

**5. 映射关系：**需要填写「域名路径」，以及选择当前负载均衡挂载到的服务。映射的结果就是，可以通过 **<域名>/<路径>** 访问服务
***

## 2.5.2 如何创建负载均衡，并绑定到服务

添加负载均衡到服务有两种方式：    
第一种是在「创建服务」时添加。    
第二种是先在「负载均衡」组件页面的「HTTP」tab下创建，再选择需要挂载到的服务。

### 2.5.2.1 「创建服务」时添加
操作如下：

**1）首先「开启负载均衡」。如果当前没有负载均衡实例，通过点击「添加」，创建一个负载均衡实例**

**2）下拉选择负载均衡实例，如果实例不存在，可以通过点击「添加」icon，创建一个新的负载均衡实例**

?> 创建负载均衡实例需要以下信息：		
   **名称·：**长度为2-64的小写字母、数字或"-", 不能以"-"开头或结尾<br>
   **描述：**用于做信息备注，可以随时修改<br>
   **计费方式：**按流量使用情况计费<br>
   **域名：**用于将用户域名绑定到负载均衡。需要确保「域名管理」中有可用域名<br>

**3）填写「路径」，将域名下的某个子目录指向服务。**   
该服务的域名访问方式是 **<域名>/<路径>**
![](_figures/quick-start/cluster-app-7loadbalance-on.jpg)

### 2.5.2.2 先创建负载均衡，再选择挂载的服务
操作如下：

**1）点击左侧菜单栏「负载均衡」，进入负载均衡组件页面**

**2）点击「HTTP」，切换到HTTP七层负载均衡子页面**

**3）点击「添加负载均衡」，打开负载均衡创建页**

?> 创建负载均衡实例需要以下信息：		
   **名称·：**长度为2-64的小写字母、数字或"-", 不能以"-"开头或结尾<br>
   **描述：**用于做信息备注，可以随时修改<br>
   **计费方式：**按流量使用情况计费<br>
   **域名：**用于将用户域名绑定到负载均衡。需要确保「域名管理」中有可用域名<br>
   **映射关系：**需要填写「域名路径」，以及选择当前负载均衡挂载到的服务。映射的结果就是，可以通过 **<域名>/<路径>** 访问服务
   
**4）点击「创建」**
***
   
## 2.5.3 如何将负载均衡从服务解绑

操作如下：

**1）点击左侧菜单栏「负载均衡」，进入负载均衡组件页面** 

**2）点击「HTTP」，切换到HTTP七层负载均衡子页面**  

**3）点击「编辑」icon**

![添加负载均衡](_figures/user-guide/lb_7_service_off.jpg)

**4）点击「解绑」icon**

![添加负载均衡](_figures/user-guide/lb_7_service_off_2.jpg)
***
   
## 2.5.4 如何删除负载均衡

操作如下：

**1）点击左侧菜单栏「负载均衡」，进入负载均衡组件页面** 

**2）点击「HTTP」，切换到HTTP七层负载均衡子页面**  

**3）点击「删除」icon**

![添加负载均衡](_figures/user-guide/lb_7_delete.jpg)
***

## 2.5.5 如何绑定用户域名

首先要保证在「域名管理」中已经正确添加了域名，即「状态」为已绑定。接下来的操作如下:

**1）点击左侧菜单栏「负载均衡」，进入负载均衡组件页面** 

**2）点击「HTTP」，切换到HTTP七层负载均衡子页面**  

**3）点击「编辑」icon**

![添加负载均衡](_figures/user-guide/lb_7_service_off.jpg)

**4）点击「添加域名」，下拉选择需要绑定的域名**